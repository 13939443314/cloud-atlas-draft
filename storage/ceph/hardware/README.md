# 硬件选型

* 硬盘
  * 存储服务最主要的投资是硬盘，虽然SSD硬盘性能更好，但是组建海量存储成本非常高昂。对于数据存储，当前选择传统的HDD
  * 个人服务器和使用者距离很近，所以噪声控制要求很高。我曾经使用过桌面3.5寸硬盘的NAS，对硬盘噪声深恶痛绝。而且3.5寸硬盘的体积过于庞大，耗电也较多。推荐使用笔记本2.5寸硬盘构建存储。（如果要求性能以及能够确保服务器是存放在IDC中心，可以考虑使用企业级3.5寸海量硬盘）

* 主机
  * Intel x86_64的性能和性价比依然是服务器领域的首选，如果构建对外提供服务的Ceph集群，选择合适的Intel主板+CPU是自然的选择
  * 我个人使用存储主要是为了验证技术，同时能够在尽可能低的成本下构建海量存储。考虑到任何一个x86_64的mini-ATX主机也需要大约1200元（需要购买集成主板，内存以及相关电源设备），而直接能够运行的树莓派3B（主板+电源+HDD扩展板）只需要(210+167)成本只有1/3，所以采用树莓派来构建存储。
  * 我已经有3快500G的旧笔记本硬盘，所以对于实践Ceph集群，仅购买了3个树莓派来实现，成本1200元（未计算旧硬盘成本）

  > 当然，x86_64主机的扩展性可以做得很好。如果要构建正式的Ceph集群(3节点)，建议采用Intel x86_64平台，可以采用每个服务器挂载多块HDD构建，例如每个服务器4块HDD，通过12快2G的HDD可以构建不错的存储服务器。
  >
  > 当前（2018年初），主流的2.5寸2T笔记本硬盘售价约500元；3.5寸4T硬盘约500元。

# 成本

* Raspberry Pi 3台: 1200元
  * Raspberry Pi 3B: 210*3
  * [X820 SATA HDD扩展卡](http://www.suptronics.com/miniPCkits/x820-hardware.html)（含电源）: 167*3

* 笔记本硬盘 3 个： 价格变动，当前利旧硬盘无成本
  * 采用旧笔记本500G硬盘*3

> 树莓派不支持板载SATA接口，目前主要是通过USB接口转SATA/mSATA实现存储访问，性能有限，并且增加了附加的转接卡成本。幸好转接卡售价167元，总体成本尚可。
>
> 也有直接通过USB连接U盘构架存储的方案（[Ceph on a Raspberry Pi](https://www.linkedin.com/pulse/ceph-raspberry-pi-rahul-vijayan/)就采用了3个16GB的U盘），但是个人感觉做实验可行，实际存储成本太高，并且非常担心U盘的使用寿命。